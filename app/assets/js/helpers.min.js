"use strict";export const buildPopover=(e,t,n)=>{new bootstrap.Popover(document.getElementById(e),{content:t,template:`\n                <div class="popover border-0 rounded" role="tooltip">\n                    <div class="mb-0 popover-body alert alert-${n} rounded text-center"></div>\n                </div>\n            `})};export const buildSelector=(e,t,n,l,a,i=null)=>{let s=$.ajax({method:"GET",url:`SelectorBuilder/${t}`+(i?`?${i}`:""),dataType:"JSON",beforeSend:function(){$(`#div__dynamic-field--${n}`).remove()}});s.done(function(t){let i=e.closest("form").querySelector(".div--dynamic-select"),s=document.createElement("div");s.className="mb-3",s.id=`div__dynamic-field--${n}`,i.appendChild(s);let o=document.createElement("label");o.setAttribute("for",`select__dynamic-field--${n}`),o.innerHTML=`${l} <span class="text-danger">*</span>`;let r=document.createElement("select");r.name=a,r.id=`select__dynamic-field--${n}`,r.className="form-select",r.setAttribute("required","");let d=document.getElementById(s.id);d.appendChild(o),d.appendChild(r),t.data.forEach(function(e,t){let n=document.createElement("option");n.value=e.value,n.innerHTML=e.text,n.setAttribute("data-extra",`${e.extra}`),r.appendChild(n)})}),s.fail(function(e){if(e.hasOwnProperty("responseJSON")){if(!e.responseJSON.data){let t=e.responseJSON.title,n=e.responseJSON.description,l=e.responseJSON.type;buildToast(t,n,l)}}else{buildToast("Request Execution","An error occurred while executing the request","danger")}})};export const buildToast=(e,t,n,l=3e3)=>{let a=new Date,i=`border-${n}`,s=`text-${n}`,o=`\n        <div id="toast--notification" class="mb-2 border ${i} toast" role="alert"\n             aria-live="assertive" aria-atomic="true">\n            <div class="toast-header ${i} ${s}">\n                <i class="me-2 fa-regular fa-bell"></i>\n                <strong class="me-auto">${e}</strong>\n                <small class="${s}">${`${("0"+a.getHours()).slice(-2)}:${("0"+a.getMinutes()).slice(-2)}:${("0"+a.getSeconds()).slice(-2)}`}</small>\n                <button type="button" class="btn btn-sm btn-link ${s}" data-bs-dismiss="toast">\n                    <i class="fa-regular fa-circle-xmark fa-lg"></i>\n                </button>\n            </div>\n            <div class="toast-body bg-white ${s}">${t}</div>\n        </div>\n    `;const r=document.createElement("template");r.innerHTML=o.trim();const d=r.content.firstChild;document.querySelector(".div__toast--custom-notification").appendChild(d),new bootstrap.Toast(d,{autohide:!0,delay:l}).show(),d.addEventListener("hidden.bs.toast",()=>{document.querySelector(".div__toast--custom-notification").removeChild(d)})};const formElements=document.querySelectorAll("form input, form select");export const validateForm=(e=0)=>{formElements.forEach(t=>{t.addEventListener("blur",n=>{n.target.classList.remove("is-valid","is-invalid");let l,a;if(e?0!==(l=t.closest(".input-group")).querySelectorAll("small").length&&l.lastElementChild.remove():null!==(a=t.nextElementSibling)&&a.remove(),!n.target.checkValidity()){n.target.classList.add("is-invalid");let a=document.createElement("small");a.classList.add("invalid-feedback"),a.classList.add("fw-bold"),e?l.appendChild(a):t.after(a),a.innerHTML=n.target.validationMessage}})})};