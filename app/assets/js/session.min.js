"use strict";function signIn(){let e,t,s,i=$.ajax({method:"POST",url:"Session/signIn",data:form.serializeArray(),dataType:"JSON",beforeSend:function(){buttonSubmit.html(buttonStates.processing).prop("disabled",!0)}});i.done(function(){window.location.reload()}),i.fail(function(i){return i.hasOwnProperty("responseJSON")?i.responseJSON.data?void $.each(i.responseJSON.data.validation,function(e,t){let s=$(`input[name='${e}']`),i=`<small class="invalid-feedback fw-bold">${t.message}</small>`;s.parent().find("small").remove(),s.removeClass("is-invalid is-valid").addClass(t.result),"is-invalid"===t.result&&s.parent().append(i)}):(e=i.responseJSON.title,t=i.responseJSON.description,s=i.responseJSON.type,void import("./helpers.js").then(i=>i.buildToast(e,t,s))):(e="Request Execution",t="An error occurred while executing the request",s="danger",void import("./helpers.js").then(i=>i.buildToast(e,t,s)))}),i.always(function(e){buttonSubmit.html(buttonStates.start).prop("disabled",!1)})}import("./helpers.js").then(e=>e.buildPopover("popover--sign-in-info","Las credenciales de acceso son las registradas en el Active Directory.","info")),document.querySelector('input[type="password"]+button').addEventListener("click",function(){let e=this.previousElementSibling,t=this.querySelector("svg"),s=t.getAttribute("data-icon");e.type="password"===e.type?"text":"password","lock"===s?t.setAttribute("data-icon","unlock"):t.setAttribute("data-icon","lock")}),import("./helpers.js").then(e=>e.validateForm(1));const form=$("#form--sign-in"),buttonSubmit=$("#button__submit-form--sign-in"),buttonStates={start:"Iniciar Sesi√≥n",processing:'<i class="me-2 fa-solid fa-spinner fa-spin-pulse"></i>Procesando'};buttonSubmit.on("click",signIn);